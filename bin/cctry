#!/bin/bash

node=$(which node)
shebang="#!$node"

e1=lozza.js
e2=lozza4.js

echo $shebang
echo $e1 v $e2

echo $shebang | cat - $e1 > x$e1
echo $shebang | cat - $e2 > x$e2

chmod +x x$e1
chmod +x x$e2

rm cctry.pgn

../cutechess-ob -concurrency 16 -each tc=0/10+0.1 \
-sprt elo0=-5 elo1=0 alpha=0.05 beta=0.1 \
-engine name=$e1 proto=uci cmd=x$e1 timemargin=250 \
-engine name=$e2 proto=uci cmd=x$e2 timemargin=250 \
-srand $RANDOM$RANDOM -openings file=data/4moves_noob.epd format=epd order=random start=1 \
-repeat -games 20000 -recover -pgnout cctry.pgn \
-draw movenumber=40 movecount=8 score=10 \
-resign movecount=5 score=400 \
-ratinginterval 10 $1
